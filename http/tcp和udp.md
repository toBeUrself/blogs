> tcp/ip四层模型，tcp和udp是运输层主要的两个协议，而且各有长短，所以搞清楚两者之间的相同点与不同点就显得很有有意义。

1. tcp的优点：可靠，稳定

tcp的可靠体现在tcp在传递数据之前，会有三次握手来建立连接，而且在数据传递时，有确认，窗口，重传，拥塞控制机制，在数据传完后，还会断开连接用来节约系统资源。

2. tcp的缺点：慢，效率低，占用系统资源高，易被攻击

tcp在传递数据之前，要先建立连接，这会消耗时间，而且在数据传递时，确认机制，重传机制，拥塞机制等都会消耗大量的时间，而且要在每台设备上维护所有的传输连接，事实上，每个链接都会占用系统的CPU，内存等硬件资源。而且，因为tcp有确认重传机制，三次握手机制，，这些也导致tcp容易被人利用，实现DOS，DDOS，CC等攻击。

1. udp的优点：快

相比tcp稍安全？udp没有tcp的握手，确认，窗口，重传，拥塞控制等机制，udp是一个无状态的传输协议，所以它在传递数据时非常快。没有tcp的这些机制，udp较tcp被攻击者利用的漏洞就要少一些。

但是udp也是无法避免攻击的，比如：udp Flood攻击...

2. udp的缺点：不可靠，不稳定

因为udp没有tcp那些可靠的机制，在数据传递时，如果网络质量不好，就会很容易丢包。

基于上面的优缺点，那么：什么时候应该使用tcp：当对网络通讯质量有要求的时候，比如：整个数据要准确无误的传送给对方，这往往用于一些要求可靠的应用，比如http，https,ftp等传输文件的协议，pop,smtp等邮件传输的协议。在日常生活中，常见使用tcp协议的应用如下：浏览器，用的http FlashFXP，用的FTP Outlook，用的POP，SMTP Putty，用的Telnet，SSH QQ文件传输

什么时候应该用udp：当对网络通讯质量要求不高的时候，要求网络通讯速度能尽可能的快，这时就可以使用udp。比如日常生活中，常见使用udp协议的应用如下：QQ语音 QQ视频 TFTP ....

tcp问了可靠稳定，相比udp要复杂很多。不同的需求可以用不同的协议。
